Derive([("out","/nix/store/lkpg1kbcvpyj78x35d64jv3yb1snx46s-firefox-83.0","","")],[("/nix/store/03r8ls0c5pwjv2sl8j14xhfarrr2h45f-libcanberra-0.30.drv",["out"]),("/nix/store/6izbhngaxb43xmy88wlqi0z71v4jd2w4-firefox.desktop.drv",["out"]),("/nix/store/7h3wis0xck8dvppf6mn1j2v5q4sadhl3-gcc-wrapper-9.3.0.drv",["out"]),("/nix/store/8vcxp692f0jfbwmady1s5xasgvbx8z1f-systemd-246.6.drv",["out"]),("/nix/store/avilfiv93xwn2dxbdksnncydhyv8wf82-libkrb5-1.18.drv",["out"]),("/nix/store/bpsf7ik2lfs5sk2pwv1w2fm5xx9fmlnr-gtk+3-3.24.23.drv",["dev"]),("/nix/store/bxzgbx367bk4jpqmm09b2yvyjjb9p0ir-libglvnd-1.3.2.drv",["out"]),("/nix/store/ca5i3msqxn5nxq70ffj7q1xw7rr792kr-adwaita-icon-theme-3.38.0.drv",["out"]),("/nix/store/d2jirimsziz4lc5xxx97ayrn9j6583l1-firefox-unwrapped-83.0.drv",["out"]),("/nix/store/div5lklygpf65crldc9549shsh2xfinq-hook.drv",["out"]),("/nix/store/dysz6rinpblcfa2sjsncq1phcsg9jwc0-ffmpeg-4.3.1.drv",["out"]),("/nix/store/ggjkjdcnjifr6flv8cvp24ikwa0krmb3-lndir-1.0.3.drv",["out"]),("/nix/store/pqly2q49x3wy5hbgl4nnb0ah28jvzyhh-replace-2.24.drv",["out"]),("/nix/store/spyxgj4shnjv447r7swy8d79k34s41bn-libpulseaudio-13.0.drv",["out"]),("/nix/store/v9cmf6d8hpmz6azpv8scghl7bi37i9gh-stdenv-linux.drv",["out"]),("/nix/store/vg051ka0f0ixh6klv4pk2yg765gq7v6l-alsa-lib-1.2.3.drv",["out"]),("/nix/store/wd70g4wwx3r71c98fjlxixf7s1j995rf-libva-2.9.1.drv",["out"]),("/nix/store/yhc99a1rcp9v5s1zfrprkr1f3dbadr61-bash-4.4-p23.drv",["out"]),("/nix/store/z2hi7rshwkx9qrmhaa2blx2h7bxp99ri-mesa-20.2.3.drv",["out"])],["/nix/store/7jhmyzqyi4k89ws86anglgm3jrf7bvc3-mozilla.cfg","/nix/store/9krlzvny65gdc8s7kpb6lkx8cd02c25b-default-builder.sh","/nix/store/k02w9mdd3lq20ykpc08ldvnalzdrly51-policies.json"],"x86_64-linux","/nix/store/r3j288vpmczbl500w6zz89gyfa4nr0b1-bash-4.4-p23/bin/bash",["-e","/nix/store/9krlzvny65gdc8s7kpb6lkx8cd02c25b-default-builder.sh"],[("buildCommand","if [ ! -x \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0/bin/firefox\" ]\nthen\n    echo \"cannot find executable file \\`/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0/bin/firefox'\"\n    exit 1\nfi\n\n#########################\n#                       #\n#   EXTRA PREF CHANGES  #\n#                       #\n#########################\n# Link the runtime. The executable itself has to be copied,\n# because it will resolve paths relative to its true location.\n# Any symbolic links have to be replicated as well.\ncd \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0\"\nfind . -type d -exec mkdir -p \"$out\"/{} \\;\n\nfind . -type f \\( -not -name \"firefox\" \\) -exec ln -sT \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0\"/{} \"$out\"/{} \\;\n\nfind . -type f -name \"firefox\" -print0 | while read -d $'\\0' f; do\n  cp -P --no-preserve=mode,ownership \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0/$f\" \"$out/$f\"\n  chmod a+rwx \"$out/$f\"\ndone\n\n# fix links and absolute references\ncd \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0\"\n\nfind . -type l -print0 | while read -d $'\\0' l; do\n  target=\"$(readlink \"$l\" | /nix/store/qhwy3yr0b9nqcz26fim3f4k6p668hbf4-replace-2.24/bin/replace-literal -es -- \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0\" \"$out\")\"\n  ln -sfT \"$target\" \"$out/$l\"\ndone\n\n# This will not patch binaries, only \"text\" files.\n# Its there for the wrapper mostly.\ncd \"$out\"\n/nix/store/qhwy3yr0b9nqcz26fim3f4k6p668hbf4-replace-2.24/bin/replace-literal -esfR -- \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0\" \"$out\"\n\n# create the wrapper\n\nexecutablePrefix=\"$out/bin\"\nexecutablePath=\"$executablePrefix/firefox\"\n\nif [ ! -x \"$executablePath\" ]\nthen\n    echo \"cannot find executable file \\`/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0/bin/firefox'\"\n    exit 1\nfi\n\nif [ ! -L \"$executablePath\" ]\nthen\n  # Careful here, the file at executablePath may already be\n  # a wrapper. That is why we postfix it with -old instead\n  # of -wrapped.\n  oldExe=\"$executablePrefix\"/\".firefox\"-old\n  mv \"$executablePath\" \"$oldExe\"\nelse\n  oldExe=\"$(readlink -v --canonicalize-existing \"$executablePath\")\"\nfi\n\nif [ ! -x \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0/bin/firefox\" ]\nthen\n    echo \"cannot find executable file \\`/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0/bin/firefox'\"\n    exit 1\nfi\n\nmakeWrapper \"$oldExe\" \\\n  \"$out/bin/firefox\" \\\n    --suffix-each MOZ_PLUGIN_PATH ':' \"$plugins\" \\\n    --suffix LD_LIBRARY_PATH ':' \"$libs\" \\\n    --suffix-each GTK_PATH ':' \"$gtk_modules\" \\\n    --suffix-each LD_PRELOAD ':' \"$(cat $(filterExisting $(addSuffix /extra-ld-preload $plugins)))\" \\\n    --prefix-contents PATH ':' \"$(filterExisting $(addSuffix /extra-bin-path $plugins))\" \\\n    --suffix PATH ':' \"$out/bin\" \\\n    --set MOZ_APP_LAUNCHER \"firefox\" \\\n    --set MOZ_SYSTEM_DIR \"$out/lib/mozilla\" \\\n    --set SNAP_NAME \"firefox\" \\\n    --set MOZ_LEGACY_PROFILES 1 \\\n    --set MOZ_ALLOW_DOWNGRADE 1 \\\n    --prefix XDG_DATA_DIRS : \"$GSETTINGS_SCHEMAS_PATH\" \\\n                  --suffix XDG_DATA_DIRS : '/nix/store/qbjrrw38iwiiw4aph6dp0zaqvzl97h1z-adwaita-icon-theme-3.38.0/share'\n\n#############################\n#                           #\n#   END EXTRA PREF CHANGES  #\n#                           #\n#############################\n\nif [ -e \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0/share/icons\" ]; then\n    mkdir -p \"$out/share\"\n    ln -s \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0/share/icons\" \"$out/share/icons\"\nelse\n    for res in 16 32 48 64 128; do\n    mkdir -p \"$out/share/icons/hicolor/${res}x${res}/apps\"\n    icon=( \"/nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0/lib/\"*\"/browser/chrome/icons/default/default${res}.png\" )\n      if [ -e \"$icon\" ]; then ln -s \"$icon\" \\\n        \"$out/share/icons/hicolor/${res}x${res}/apps/firefox.png\"\n      fi\n    done\nfi\n\ninstall -D -t $out/share/applications $desktopItem/share/applications/*\n\nmkdir -p $out/lib/mozilla/native-messaging-hosts\nfor ext in ; do\n    ln -sLt $out/lib/mozilla/native-messaging-hosts $ext/lib/mozilla/native-messaging-hosts/*\ndone\n\nmkdir -p $out/lib/mozilla/pkcs11-modules\nfor ext in ; do\n    ln -sLt $out/lib/mozilla/pkcs11-modules $ext/lib/mozilla/pkcs11-modules/*\ndone\n\n# For manpages, in case the program supplies them\nmkdir -p $out/nix-support\necho /nix/store/5jxnhkrv55cdnzkr7bzr5gprkcr5s1p6-firefox-unwrapped-83.0 > $out/nix-support/propagated-user-env-packages\n\n\n#########################\n#                       #\n#   EXTRA PREF CHANGES  #\n#                       #\n#########################\n# user customization\nmkdir -p $out/lib/firefox\n\n# creating policies.json\nmkdir -p \"$out/lib/firefox/distribution\"\n\nPOL_PATH=\"$out/lib/firefox/distribution/policies.json\"\nrm -f \"$POL_PATH\"\ncat /nix/store/k02w9mdd3lq20ykpc08ldvnalzdrly51-policies.json >> \"$POL_PATH\"\n\n# preparing for autoconfig\nmkdir -p \"$out/lib/firefox/defaults/pref\"\n\ncat > \"$out/lib/firefox/defaults/pref/autoconfig.js\" <<EOF\n  pref(\"general.config.filename\", \"mozilla.cfg\");\n  pref(\"general.config.obscure_value\", 0);\nEOF\n\ncat > \"$out/lib/firefox/mozilla.cfg\" < /nix/store/7jhmyzqyi4k89ws86anglgm3jrf7bvc3-mozilla.cfg\n\nmkdir -p $out/lib/firefox/distribution/extensions\n\nfor i in ; do\n  ln -s -t $out/lib/firefox/distribution/extensions $i/*\ndone\n#############################\n#                           #\n#   END EXTRA PREF CHANGES  #\n#                           #\n#############################\n"),("buildInputs","/nix/store/0hmg28d5j94x0kwm1aw6wskqagkplm3h-gtk+3-3.24.23-dev"),("builder","/nix/store/r3j288vpmczbl500w6zz89gyfa4nr0b1-bash-4.4-p23/bin/bash"),("configureFlags",""),("depsBuildBuild",""),("depsBuildBuildPropagated",""),("depsBuildTarget",""),("depsBuildTargetPropagated",""),("depsHostHost",""),("depsHostHostPropagated",""),("depsTargetTarget",""),("depsTargetTargetPropagated",""),("desktopItem","/nix/store/sm8p134s09lqq1292qg2axjfjym64ng2-firefox.desktop"),("disallowedRequisites","/nix/store/a1hpnpjrxdllbfg179vzj7hnh581sz3c-gcc-wrapper-9.3.0"),("doCheck",""),("doInstallCheck",""),("gtk_modules","/nix/store/nh4fdgx9fhk60f2ia067v7n2caqwhjjd-libcanberra-0.30/lib/gtk-2.0/"),("libs","/nix/store/gyg6zyw1f0d1ahh1yk0pl18sxwx5a3zc-systemd-246.6/lib:/nix/store/vsqfb7v146g3qxdnddhhh43y15ngdh2b-libva-2.9.1/lib:/nix/store/ar7gfwghh6phjak9rpc6qryc7x2k94p9-mesa-20.2.3/lib:/nix/store/6d09d3si26hp65d3hz5bb5z14l8dwk6k-ffmpeg-4.3.1/lib:/nix/store/0jr79prrz92nx3qdf4b8ap526spvc656-libkrb5-1.18/lib:/nix/store/yac0mc9q0vfsax33gsnmj1cpvp8pcc4v-libglvnd-1.3.2/lib:/nix/store/nxpp0za74j1nrjb4lr8cyp5sr64rm0h5-libpulseaudio-13.0/lib:/nix/store/p16ckm5klzmdfcxrgzrynv2avb6674m3-alsa-lib-1.2.3/lib:/nix/store/gyg6zyw1f0d1ahh1yk0pl18sxwx5a3zc-systemd-246.6/lib64:/nix/store/vsqfb7v146g3qxdnddhhh43y15ngdh2b-libva-2.9.1/lib64:/nix/store/ar7gfwghh6phjak9rpc6qryc7x2k94p9-mesa-20.2.3/lib64:/nix/store/6d09d3si26hp65d3hz5bb5z14l8dwk6k-ffmpeg-4.3.1/lib64:/nix/store/0jr79prrz92nx3qdf4b8ap526spvc656-libkrb5-1.18/lib64:/nix/store/yac0mc9q0vfsax33gsnmj1cpvp8pcc4v-libglvnd-1.3.2/lib64:/nix/store/nxpp0za74j1nrjb4lr8cyp5sr64rm0h5-libpulseaudio-13.0/lib64:/nix/store/p16ckm5klzmdfcxrgzrynv2avb6674m3-alsa-lib-1.2.3/lib64"),("name","firefox-83.0"),("nativeBuildInputs","/nix/store/j0p14kdwl9zdfc0mmk8zlnas1v2ig9bb-hook /nix/store/y4lwicvxvl6z176si6y1hwyl905kp5rs-lndir-1.0.3"),("out","/nix/store/lkpg1kbcvpyj78x35d64jv3yb1snx46s-firefox-83.0"),("outputs","out"),("patches",""),("plugins",""),("pname","firefox"),("preferLocalBuild","1"),("propagatedBuildInputs",""),("propagatedNativeBuildInputs",""),("stdenv","/nix/store/qkgbmfnkxw51sfzrxlxsbj6kf2zi7ab2-stdenv-linux"),("strictDeps",""),("system","x86_64-linux"),("version","83.0")])